<h1>Listing points</h1>

<script type="text/javascript" charset="utf-8">
  $(function(){
    
    
    new Highcharts.Chart({
      chart: {
        renderTo: "point_chart"
      },
      title: {
        text: "Weight by Minute"
      },
      xAxis: {
        type: "datetime"
      },
      yAxis: {
        title: {
          text: "pounds"
        }
      },
      series: [{
        pointInterval: <%= 1.day * 1000 %>,
        pointStart: <%= 3.weeks.ago.to_i * 1000 %>,
        data: <%= @chart_points %>
      }]
    });
  });
</script>

<div id="point_chart"></div>

<table>
  <tr>
    <th>Rating</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @points.each do |point| %>
  <tr>
    <td><%= point.rating %></td>
    <td><%= link_to 'Show', point %></td>
    <td><%= link_to 'Edit', edit_point_path(point) %></td>
    <td><%= link_to 'Destroy', point, confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Point', new_point_path %>
