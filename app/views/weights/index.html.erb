<h1>Listing Weights</h1>

<script type="text/javascript" charset="utf-8">
	$(function(){
		
		
		new Highcharts.Chart({
			chart: {
				renderTo: "weight_chart"
			},
			title: {
				text: "Weight by Minute"
			},
			xAxis: {
				type: "datetime"
			},
			yAxis: {
				title: {
					text: "pounds"
				}
			},
			series: [{
				pointInterval: <%= 1.day * 1000 %>,
				pointStart: <%= 3.weeks.ago.to_i * 1000 %>,
				data: <%= @chart_weights %>
			}]
		});
	});
</script>

<div id="weight_chart" style="width:560px; height:300px; margin: 10px auto;"></div>


<table>
  <tr>
    <th>Name</th>
    <th>Weight</th>
    <th>Time</th>
    <th></th>
    <th></th>
  </tr>

<% @weights.each do |weight| %>
  <tr>
    <td><%= weight.name %></td>
    <td><%= weight.weight %></td>
	<td><%= weight.created_at %></td>
    <td><%= link_to 'Show', weight %></td>
    <td><%= link_to 'Edit', edit_weight_path(weight) %></td>
    <td><%= link_to 'Destroy', weight, confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Weight', new_weight_path %>
<%= link_to 'filter', filter_weights_path %>
